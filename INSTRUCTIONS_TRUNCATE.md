# üîß –Ü–ù–°–¢–†–£–ö–¶–Ü–Ø: –û—á–∏—â–µ–Ω–Ω—è –ë–î –ø–µ—Ä–µ–¥ –ø–µ—Ä—à–∏–º –∑–∞–ø—É—Å–∫–æ–º –æ–Ω–æ–≤–ª–µ–Ω–∏—Ö –ø–∞—Ä—Å–µ—Ä—ñ–≤

## –ü—Ä–æ–±–ª–µ–º–∞

–û–Ω–æ–≤–ª–µ–Ω—ñ –ø–∞—Ä—Å–µ—Ä–∏:
- ‚úÖ –ù–æ—Ä–º–∞–ª—ñ–∑—É—é—Ç—å –Ω–∞–ø—Ä—è–º–æ–∫ –∫—Ä–æ—Å-–∫—É—Ä—Å—ñ–≤ (USD –∑–∞–≤–∂–¥–∏ –¥—Ä—É–≥–∏–º: EUR/USD, GBP/USD)
- ‚úÖ –û—á–∏—â–∞—é—Ç—å –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ (–≤–∏–¥–∞–ª—è—é—Ç—å $, ‚Ç¨)
- ‚úÖ –ú—ñ–Ω—è—é—Ç—å —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ (–∑ `"–∫—Ä–æ—Å-–∫—É—Ä—Å (USD/EUR)"` –Ω–∞ `"–∫—Ä–æ—Å-–∫—É—Ä—Å"`)

**–°—Ç–∞—Ä—ñ –¥–∞–Ω—ñ –≤ –ë–î –º—ñ—Å—Ç–∏—Ç–∏–º—É—Ç—å —Å—Ç–∞—Ä—ñ —Ñ–æ—Ä–º–∞—Ç–∏**, —Ç–æ–º—É –≤—Å—ñ –∑–∞–ø–∏—Å–∏ –±—É–¥—É—Ç—å –≤–≤–∞–∂–∞—Ç–∏—Å—è –Ω–æ–≤–∏–º–∏ ‚Üí –¥—É–±–ª—ñ–∫–∞—Ç–∏.

## –†—ñ—à–µ–Ω–Ω—è: Truncate –ë–î

### –ö—Ä–æ–∫ 1: –í—ñ–¥–∫—Ä–∏–π Supabase Dashboard

1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ https://supabase.com/dashboard
2. –í–∏–±–µ—Ä–∏ —Å–≤—ñ–π –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏ –≤ **SQL Editor** (–ª—ñ–≤–æ—Ä—É—á —É –º–µ–Ω—é)

### –ö—Ä–æ–∫ 2: –í–∏–∫–æ–Ω–∞–π SQL

–í—Å—Ç–∞–≤ —Ü–µ–π SQL —Ç–∞ –Ω–∞—Ç–∏—Å–Ω–∏ **RUN**:

```sql
-- –û—á–∏—â–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ rates
TRUNCATE TABLE rates RESTART IDENTITY CASCADE;

-- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞: –º–∞—î –±—É—Ç–∏ 0
SELECT COUNT(*) as remaining_rows FROM rates;
```

**‚ö†Ô∏è –¶–µ –≤–∏–¥–∞–ª–∏—Ç—å –í–°–Ü –¥–∞–Ω—ñ –∑ —Ç–∞–±–ª–∏—Ü—ñ `rates`!**

### –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Cron Job –Ω–∞ Render

–û–Ω–æ–≤–ª–µ–Ω–∏–π –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–¥–µ–ø–ª–æ—ó—Ç—å—Å—è –∑ GitHub.

–õ–æ–≥–∏ –º–∞—é—Ç—å –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏:
```
[CLOUD] üìä –Ü—Å–Ω—É—é—á–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –¥–ª—è SWAPS: 0
[CLOUD] üîç SWAPS: –Ω–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏: 330 –∑ 330
[CLOUD] üåê SWAPS: –¥–æ–¥–∞–Ω–æ 330, –ø—Ä–æ–ø—É—â–µ–Ω–æ 0
```

–ü—Ä–∏ –¥—Ä—É–≥–æ–º—É –∑–∞–ø—É—Å–∫—É:
```
[CLOUD] üìä –Ü—Å–Ω—É—é—á–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –¥–ª—è SWAPS: 330
[CLOUD] üîç SWAPS: –Ω–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏: 0 –∑ 330
[CLOUD] üåê SWAPS: –≤—Å—ñ 330 –∑–∞–ø–∏—Å—ñ–≤ –≤–∂–µ —î –≤ –ë–î
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –û–Ω–æ–≤–∏—Ç–∏ —ñ—Å–Ω—É—é—á—ñ –¥–∞–Ω—ñ

–Ø–∫—â–æ —Ö–æ—á–µ—à –∑–±–µ—Ä–µ–≥—Ç–∏ —ñ—Å–Ω—É—é—á—ñ –¥–∞–Ω—ñ, –º–æ–∂–Ω–∞ –æ–Ω–æ–≤–∏—Ç–∏ —ó—Ö –≤—Ä—É—á–Ω—É:

```sql
-- –û–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –∑ "–∫—Ä–æ—Å-–∫—É—Ä—Å (X/Y)" –Ω–∞ "–∫—Ä–æ—Å-–∫—É—Ä—Å"
UPDATE rates 
SET comment = '–∫—Ä–æ—Å-–∫—É—Ä—Å' 
WHERE comment LIKE '–∫—Ä–æ—Å-–∫—É—Ä—Å%' AND comment != '–∫—Ä–æ—Å-–∫—É—Ä—Å';

-- –í–∏–¥–∞–ª–∏—Ç–∏ —Å–∏–º–≤–æ–ª–∏ –≤–∞–ª—é—Ç –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
UPDATE rates 
SET comment = REPLACE(REPLACE(comment, '$', ''), '‚Ç¨', '')
WHERE comment LIKE '%$%' OR comment LIKE '%‚Ç¨%';

-- –í–∏–¥–∞–ª–∏—Ç–∏ "–≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è —É—Ç–æ—á–Ω—é–π—Ç–µ" –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
UPDATE rates 
SET comment = TRIM(REPLACE(comment, '–≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è —É—Ç–æ—á–Ω—é–π—Ç–µ', ''))
WHERE comment LIKE '%–≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è —É—Ç–æ—á–Ω—é–π—Ç–µ%';
```

**–ê–ª–µ!** –¶–µ –Ω–µ –≤–∏—Ä—ñ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –∑ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—î—é –∫—Ä–æ—Å-–∫—É—Ä—Å—ñ–≤ (USD/EUR ‚Üí EUR/USD).

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è: –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π TRUNCATE –¥–ª—è —á–∏—Å—Ç–æ—ó –ë–î.**

